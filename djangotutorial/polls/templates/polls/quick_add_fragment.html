<section id="quick-add" style="margin:1rem 0;padding:0.5rem;border:1px solid var(--accent);background:var(--muted);">
  <form id="quick-add-form" action="{% url 'polls:quick_transaction' %}" method="post"
        hx-post="{% url 'polls:quick_transaction' %}" hx-target="#quick-add" hx-swap="outerHTML">
    {% csrf_token %}
    <div style="display:flex;gap:0.5rem;align-items:center;flex-wrap:wrap">
      <input name="description" id="qa-description" placeholder="Descripción*" required style="flex:2;min-width:160px">
      <input name="amount" id="qa-amount" type="number" step="0.01" placeholder="Importe*" required style="width:120px">
      <input name="date" id="qa-date" type="date" required style="width:150px">
      <input name="currency" id="qa-currency" placeholder="EUR* / USD*" required style="width:90px;text-transform:uppercase">
      <select id="qa-category-select" style="width:140px">
        <option value="">Categoría...</option>
        {% for name in qa_categories %}
          <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
        <option value="__create__">Crear nuevo...</option>
      </select>
      <input type="text" id="qa-category-new" placeholder="Nueva categoría" style="width:140px;display:none">
      <input type="hidden" name="category" id="qa-category" />

      <select id="qa-project-select" style="width:140px">
        <option value="">Proyecto...</option>
        {% for name in qa_projects %}
          <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
        <option value="__create__">Crear nuevo...</option>
      </select>
      <input type="text" id="qa-project-new" placeholder="Nuevo proyecto" style="width:140px;display:none">
      <input type="hidden" name="project" id="qa-project" />

      <select id="qa-payee-select" style="width:160px">
        <option value="">Beneficiario...</option>
        {% for name in qa_payees %}
          <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
        <option value="__create__">Crear nuevo...</option>
      </select>
      <input type="text" id="qa-payee-new" placeholder="Nuevo beneficiario" style="width:160px;display:none">
      <input type="hidden" name="payee" id="qa-payee" />

      <select id="qa-source-select" style="width:140px">
        <option value="">Origen...</option>
        {% for name in qa_sources %}
          <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
        <option value="__create__">Crear nuevo...</option>
      </select>
      <input type="text" id="qa-source-new" placeholder="Nuevo origen" style="width:140px;display:none">
      <input type="hidden" name="source" id="qa-source" />

      <button id="qa-submit" type="submit">Añadir</button>
    </div>
  </form>
  <div id="qa-msg" aria-live="polite" style="margin-top:0.5rem;opacity:0;transition:opacity .2s">&nbsp;</div>
</section>
